name: PR Auto Comment

on:
  pull_request:
    types: [opened, reopened]

jobs:
  comment:
    runs-on: ubuntu-latest
    steps:
      - name: Add PR Welcome Comment
        uses: actions/github-script@v7
        with:
          script: |
            const prNumber = context.issue.number;
            const author = context.payload.pull_request.user.login;
            const title = context.payload.pull_request.title;
            const body = context.payload.pull_request.body || 'ì„¤ëª…ì´ ì—†ìŠµë‹ˆë‹¤.';

            const comment = `## ğŸ‰ PR ìƒì„±ì„ í™˜ì˜í•©ë‹ˆë‹¤!

            ì•ˆë…•í•˜ì„¸ìš” @${author}ë‹˜! PRì„ ìƒì„±í•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.

            ### ğŸ“‹ PR ì •ë³´
            - **ì œëª©**: ${title}
            - **ì‘ì„±ì**: @${author}
            - **PR ë²ˆí˜¸**: #${prNumber}

            ### âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸
            PR ë¨¸ì§€ ì „ì— ë‹¤ìŒ ì‚¬í•­ë“¤ì„ í™•ì¸í•´ ì£¼ì„¸ìš”:

            - [ ] í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì‘ì„±ë˜ì—ˆë‚˜ìš”?
            - [ ] ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•˜ë‚˜ìš”?
            - [ ] ì½”ë“œ ìŠ¤íƒ€ì¼ ê°€ì´ë“œë¥¼ ì¤€ìˆ˜í–ˆë‚˜ìš”?
            - [ ] ë¬¸ì„œê°€ ì—…ë°ì´íŠ¸ë˜ì—ˆë‚˜ìš”? (í•„ìš”í•œ ê²½ìš°)
            - [ ] Breaking changesê°€ ìˆë‹¤ë©´ ëª…ì‹œí–ˆë‚˜ìš”?

            ### ğŸ” ìë™ ê²€ì‚¬ í•­ëª©
            - ìë™ í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤
            - ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬ê°€ ì§„í–‰ë©ë‹ˆë‹¤
            - ë³´ì•ˆ ìŠ¤ìº”ì´ ìˆ˜í–‰ë©ë‹ˆë‹¤

            ### ğŸ“ ë¦¬ë·° ìš”ì²­
            ë¦¬ë·°ì–´ê°€ ìë™ìœ¼ë¡œ í• ë‹¹ë©ë‹ˆë‹¤. ë¦¬ë·° ì™„ë£Œ í›„ ë¨¸ì§€ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

            ---
            *ì´ ëŒ“ê¸€ì€ ìë™ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ğŸ¤–*`;

            github.rest.issues.createComment({
              issue_number: prNumber,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: comment
            });
